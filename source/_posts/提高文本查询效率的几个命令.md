---
title: 提高文本查询效率的几个命令
date: 2021-05-22 21:15:54
tags: linux
categories: Linux
---

 查找日志定位问题时，往往被查询的日志可能是一个很大的文件或者是压缩文件，查找时为了提高效率，我们可以使用 more、zgrep 等命令来查找。

<!--more-->

# more

more 命令与 cat 命令类似，但是查找文件时，more 是一页一页的显示，这样更方便我们查找。

我们执行 more --help ，可以看看 more 有哪些参数可以使用。

more 的基本用法：

```txt
1. 空格键：往下显示一页
2. b键：往上显示一页
3. more +n：从第n行开始显示
4. more -n: 自定义每页显示行数
5. /待查找字符串：查找特定的字符串
6. q：退出more命令

还可以使用 more --help 查看更多参数。
```



# zgrep

zgrep 命令与 grep 命令功能一样，只不过 zgrep 可以用来查找压缩文件中的特定内容而不用将文件解压，这对于查询大压缩文件的查找很有帮助。

zgrep 的基本用法：

```txt\
1. zgrep 待查找内容 压缩文件（若查找的是二进制文件，需要加上参数 -a，下同）
2. zgrep -A n 待查找内容 压缩文件 （获取待查找内容的后面 n 行内容）
3. zgrep -B n 待查找内容 压缩文件 （获取待查找内容的前面 n 行内容）
4. zgrep -C n 待查找内容 压缩文件 （获取待查找内容的前后 n 行内容）
```

类似的命令还有 zmore、zcat 等，感兴趣的同学可以下去学习一下。



## less

less  命令与 more 命令类似，但是功能比 more 更强大，它的基本用法如下：

```txt
less用法：
1. less 文件名 查找指定的文件
常用参数：
 -i：搜索时忽略大小写
 -m：增加百分比的显示
 -s：合并连续空行为一行
 -N：显示行号
2. d 向下翻页
3. u 向上翻页
4. g 跳到第一行
5. G 跳到最后一行
6. /字符串：向下搜索字符串
7. ?字符串：向上搜索字符串
```

less 的更多用法，可以执行 less --help 查看。

以上就是文本查找中可能常用到的几个查找命令。